(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{"+o05":function(e,t,n){"use strict";var r,a=n("R972"),o=(n("PN9k"),n("VPAj")),i=(n("cI1W"),n("PJYZ")),c=n.n(i),s=n("VbXa"),l=n.n(s),d=n("lSNA"),m=n.n(d),u=n("ERkP"),p=n("htQn"),f=(n("KI7T"),n("zlxh")),h=n("qB1G"),g=n("3xO4"),b=n.n(g),y=n("pjBI"),E=n("t62R"),_=n("rHpw"),v=n("3XMw"),w=n.n(v),T=w.a.gdd1c595,S=w.a.ccaa970e,C=w.a.d725a288,I=w.a.c88df33b,k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,m()(c()(t),"state",{participants:void 0}),t}l()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setState({participants:this.props.participants})},n.componentWillReceiveProps=function(e){!this.props.participants&&e.participants&&this.setState({participants:e.participants})},n.render=function(){var e=this.props.eventState,t=e===h.a.Scheduled,n=e===h.a.Completed,r=e===h.a.InProgress;return u.createElement(b.a,{style:x.row},this._renderCategory(),u.createElement(b.a,{style:x.eventStateContainer},t?this._renderGameScheduledDateTime():u.createElement(y.a,null,this._renderGameStateLabel(r,e),this._renderGameStateValue(n,r))))},n._renderGameStateLabel=function(e,t){return u.createElement(E.b,{color:e?"red":"deepGray",size:"small",weight:"bold"},Object(f.j)(t))},n._renderGameStateValue=function(e,t){var n=this.props.gameClockPeriod,r=this._getWinnerName();return e&&r?u.createElement(E.b,{color:"deepGray",size:"small",weight:"normal"},I({team:r})):t&&n?u.createElement(E.b,{color:"deepGray",size:"small",weight:"normal"},n):null},n._renderGameScheduledDateTime=function(){var e=this.props.startTimeMillis,t=e?new Date(e):void 0;if(t){var n=function(e){var t=(new Date).setHours(0,0,0,0),n=t+864e5;return e>=t&&e<n?0:e>=n&&e<t+1728e5?1:-1}(t);return-1===n?this._renderDateTime(t):this._renderTodayTomorrow(n,t)}return null},n._renderDateTime=function(e){var t=C(e),n=S(e);return u.createElement(y.a,null,u.createElement(E.b,{color:"deepGray",size:"small",weight:"bold"},T({date:n})),u.createElement(E.b,{color:"deepGray",size:"small",weight:"normal"},t))},n._renderTodayTomorrow=function(e,t){var n=C(t),r=u.createElement(E.b,{color:"deepGray",size:"small",weight:"bold"}),a=u.createElement(E.b,{color:"deepGray",size:"small"});return 0===e?u.createElement(w.a.I18NFormatMessage,{$i18n:"da84168e"},u.cloneElement(r,null,w.a.acf763b3),u.cloneElement(a,null,w.a.bad0156a({formattedTime:n}))):u.createElement(w.a.I18NFormatMessage,{$i18n:"e6e85536"},u.cloneElement(r,null,w.a.c49a4442),u.cloneElement(a,null,w.a.d867c8cf({formattedTime:n})))},n._renderCategory=function(){var e=this.props.category;return u.createElement(E.b,{align:"left",size:"small",style:x.rowElem,weight:"bold"},e)},n._getWinnerName=function(){var e=this.state.participants,t=this.props.winnerId,n=e&&e.find((function(e){return e.id===t}));return n&&n.shortName},t}(u.Component),x=_.a.create((function(e){return{eventStateContainer:{alignSelf:"flex-end",flexDirection:"row"},row:{flexDirection:"row",marginVertical:e.spaces.xxSmall},rowElem:{flexGrow:1,alignSelf:"center"}}})),M=k,O=n("A91F"),P=n("TIdA"),D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,m()(c()(t),"state",{imageError:!1}),m()(c()(t),"_renderImage",(function(){var e=t.props.team,n=e.imageUrl,r=e.logo,a=t.state.imageError,o=!r&&!n||a?j.translucent:{},i=r?O.a.exact(r.width/r.height):O.a.SQUARE;return u.createElement(b.a,{style:j.teamLogoContainer},u.createElement(b.a,{style:[r?j.logoContainer:j.imageContainer,o]},u.createElement(P.a,{accessibilityLabel:"",aspectMode:i,image:r||n||"",onError:t._handleImageError,rounded:!r})))})),m()(c()(t),"_handleImageError",(function(){t.setState({imageError:!0})})),t}l()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.team,n=t.fullName,r=t.color,a=e.fallbackColor,o={backgroundColor:r&&"rgb("+r.red+", "+r.green+", "+r.blue+")"||_.a.theme.colors[a]};return u.createElement(b.a,{style:[j.root,o]},this._renderImage(),u.createElement(E.b,{align:"left",color:"white",numberOfLines:1,style:j.rowElem,weight:"heavy"},n),this._renderScore())},n._renderScore=function(){var e=this.props,t=e.winnerId,n=e.eventState,r=e.team,a=r.id,o=r.score,i=r.secondaryScore,c=a===t,s=!t,l=n===h.a.Completed&&!c&&!s;return n===h.a.Completed||n===h.a.InProgress?u.createElement(b.a,{style:[j.teamScore,l&&j.losingTeam]},u.createElement(E.b,{color:"white",numberOfLines:1,size:i?"large":"xLarge",weight:"heavy"},o),i?u.createElement(E.b,{color:"white",numberOfLines:1,style:j.specialTeamScoreSecondary,weight:"bold"},i):null):null},t}(u.Component),j=_.a.create((function(e){return{root:{flexDirection:"row",height:e.spaces.xxLarge,paddingHorizontal:e.spaces.xSmall},imageContainer:{width:e.spaces.large},logoContainer:{width:e.spaces.xLarge},translucent:{borderRadius:e.borderRadii.infinite,backgroundColor:e.colors.white,opacity:.4},teamLogoContainer:{alignSelf:"center",alignItems:"center",height:e.spaces.large,width:e.spaces.xLarge},teamScore:{alignSelf:"center",marginHorizontal:e.spaces.xSmall},specialTeamScoreMain:{alignSelf:"center",flexDirection:"column",display:"flex"},specialTeamScoreSecondary:{alignSelf:"flex-end"},rowElem:{flexGrow:1,alignSelf:"center",marginHorizontal:e.spaces.xSmall},losingTeam:{opacity:.5}}})),R=D,A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,m()(c()(t),"_renderTeamRow",(function(e,n){var r=t.props,a=r.winnerId,o=r.eventState,i=e.id;return u.createElement(R,{eventState:o,fallbackColor:n%2==0?"mediumGray":"deepGray",key:i,team:e,winnerId:a})})),t}l()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.onImpression;e&&e()},n.render=function(){var e=this.props,t=e.eventState,n=e.participants,r=e.url,a=e.onClick,o=n&&n.map(this._renderTeamRow);return n&&t&&r&&r.url?u.createElement(p.a,{link:r.url,onClick:a},u.createElement(b.a,{style:z.container},this._renderDetails(),u.createElement(b.a,{style:z.teamsBorder},o))):null},n._renderDetails=function(){var e=this.props,t=e.category,n=e.eventState,r=e.gameClock,a=e.gameClockPeriod,o=e.startTimeMillis,i=e.summary,c=e.participants,s=e.winnerId;return u.createElement(M,{category:t,eventState:n,gameClock:r,gameClockPeriod:a,participants:c,startTimeMillis:o,summary:i,winnerId:s})},t}(u.Component),z=_.a.create((function(e){return{container:{flexDirection:"column",marginHorizontal:e.spaces.small,marginBottom:e.spaces.xSmall,marginTop:e.spaces.xxSmall},teamsBorder:{borderRadius:e.borderRadii.medium,overflow:"hidden"}}})),F=n("zh9S"),L=n("Rp9C"),N=function(e){return L.a.getGuideDetails(e.itemMetadata.clientEventInfo)},G=Object(o.a)({scribe:F.c}),U=function(e){return a.f({component:A,isFocusable:Object(o.a)(!0),bindActions:G,createProps:function(e){var t=e.entry,n=e.actions.scribe,r=e.scribeNamespace;if(t&&t.content&&t.content.scoreEvent){var a=t.content.scoreEvent,o=a.eventState,i=a.participants,c=a.category,s=a.summary,l=a.startTimeMillis,d=a.gameClock,m=a.gameClockPeriod,u=a.winnerId,p=a.url,f=N(t),h=f?[f]:[];return{eventState:o,participants:i,category:c,summary:s,startTimeMillis:parseInt(l,10),gameClock:d,gameClockPeriod:m,winnerId:u,url:p,onClick:function(e){n(Object.assign({},r,{action:"click"}),{items:h})},onImpression:function(){n(Object.assign({},r,{action:"impression"}),{items:h})}}}return null}})},B=n("mhlb");t.a=a.b({selectDisplayType:function(e){return e.content.displayType},handlers:(r={},r[B.a.Cell]=U(A),r)})},"A+RP":function(e,t,n){"use strict";n.r(t);var r,a,o=n("PJYZ"),i=n.n(o),c=n("VbXa"),s=n.n(c),l=n("lSNA"),d=n.n(l),m=n("ERkP"),u=(n("PN9k"),n("R972")),p=n("VPAj"),f=n("8UdT"),h=n("iu0J"),g=n("xN10"),b=n("3XMw"),y=n.n(b),E=n("caTy"),_=n("zML4"),v=n("3xO4"),w=n.n(v),T=n("Irs7"),S=n("hxu0"),C=n("6vad"),I=n("rC8y"),k=y.a.e1b61d44,x=y.a.e05b3b2d,M=function(e){function t(t,n){var r;return r=e.call(this,t,n)||this,d()(i()(r),"_handleShowMoreInlineClick",(function(){var e=r.props.onClick;r.setState({showMoreTrends:!0}),e("show_more_inline")})),d()(i()(r),"_handleShowMoreClick",(function(){(0,r.props.onClick)("show_more")})),r.state={showMoreTrends:!1},r}s()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.trends,n=e.analytics;t&&t.length>0&&n.scribe({action:"impression",component:"explore_sidebar"})},n.canShowMoreTrends=function(){var e=this.props.trends;return!this.state.showMoreTrends&&e.length>5},n.render=function(){var e=this.props,t=e.footer,n=e.headerTitle,r=e.isInSidebar,a=m.createElement(_.a,{to:"/settings/trends"});return m.createElement(w.a,null,m.createElement(C.a,{rightControl:a,text:n||k}),this._renderTrends(),this.canShowMoreTrends()?m.createElement(I.a,{onPress:this._handleShowMoreInlineClick,text:x,withBottomRadius:!0,withDarkerInteractiveBackground:r}):!!t&&m.createElement(I.a,{link:t.landingUrl?Object(E.b)(t.landingUrl):void 0,onPress:this._handleShowMoreClick,text:t.text,withBottomRadius:!0,withDarkerInteractiveBackground:r}))},n._renderTrends=function(){var e=this.props.trends;return(this.state.showMoreTrends?e:e.slice(0,5)).map((function(e){return m.createElement(m.Fragment,{key:e.key},e.item)}))},t}(m.Component),O=Object(T.a)(Object(S.a)(M)),P=n("+o05"),D=n("zh9S"),j=n("5Y9N"),R=n("XtkE"),A=((r={})[f.a.TimelineCursor]=u.d(u.a()),r[f.a.Label]=u.d(u.a()),r[f.a.Message]=u.d(u.a()),r[f.a.News]=u.d(u.a()),r[f.a.Trend]=Object(R.a)({withThirdPartyCards:!1,errorContext:"EXPLORE_SIDEBAR"}),r[f.a.EventSummary]=Object(h.a)({errorContext:"EXPLORE_SIDEBAR"}),r[f.a.ScoreEventSummary]=P.a,r),z=((a={}).TrendsModule=u.f({bindActions:function(){return{scribeAction:D.c}},component:O,createProps:function(e){var t=e.entry,n=e.renderEntry,r=e.scribeNamespace,a=e.actions.scribeAction,o=t.content,i=o.footer,c=o.header,s=o.items;return{footer:i,headerTitle:c&&c.text,onClick:function(e){a(Object.assign({},r,{element:e,action:"click"}))},trends:s.map((function(e){return{item:n(e),key:e.entryId}}))}},shouldDisplayBorder:Object(p.a)(!1)}),a),F=Object.assign({},Object(j.a)({customHandlers:z,customSelectDisplayType:function(e){return(t=e.content.items).length>0&&Object(g.a)(t,(function(e){return e.type===f.a.Trend}))?"TrendsModule":e.content.displayType;var t}}),{},A),L=n("fTQJ"),N=n("b8qQ"),G=n("B5iK"),U=n("Kzn8"),B=n.n(U),H=n("FIs5"),V=n("I7xG"),W=n("BxsD");n.d(t,"UPDATE_INTERVAL",(function(){return J})),n.d(t,"ExploreSidebar",(function(){return Z}));var X=y.a.f9ef5332,K=y.a.e7f88406,J=3e5,Q=function(){return m.createElement(H.a,{message:K})},Z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,d()(i()(t),"_getModuleWithProfileUserId",Object(V.a)(i()(t),(function(e){return e.profileUserId}),(function(e){return Object(W.c)({displayLocation:W.a.WebSidebar,profileUserId:e})}))),d()(i()(t),"_setTimelineRef",(function(e){t._timeline=e,e&&t._startTimer()})),d()(i()(t),"_startTimer",(function(){t._stopTimer(),t._timer=new G.b(J).interval(t._fetchUpdates),t._timer.start()})),d()(i()(t),"_stopTimer",(function(){t._timer&&t._timer.stop(),t._timer=void 0})),d()(i()(t),"_onAppForegrounded",(function(e){"active"===e&&t._fetchUpdates()})),d()(i()(t),"_fetchUpdates",(function(){t._timeline&&"active"===B.a.currentState&&t._timeline.fetchTop({})})),t}s()(t,e);var n=t.prototype;return n.componentDidMount=function(){B.a.addEventListener("change",this._onAppForegrounded)},n.componentWillUnmount=function(){this._stopTimer(),B.a.removeEventListener("change",this._onAppForegrounded)},n.render=function(){var e=this.props.profileUserId?this._getModuleWithProfileUserId():W.e;return m.createElement(w.a,null,m.createElement(L.a,{entryConfiguration:F,module:e,renderUnavailable:Q,scroller:N.a,showFooter:!1,timelineRef:this._setTimelineRef,title:X,withInstreamVideo:!1}))},t}(m.Component);t.default=Z},BxsD:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"g",(function(){return u}));n("PN9k"),n("KYm4");var r=n("ZNT5"),a=n("eR3e"),o=Object.freeze({Trends:"trends"}),i=Object.freeze({WebSidebar:"web_sidebar"}),c="explore-",s=function(e){var t=void 0===e?{}:e,n=t.contentType,a=t.displayLocation,o=t.includePageConfiguration,i=void 0!==o&&o,s=t.profileUserId,l=n||a||"main",d=s?""+c+l+"-"+s:""+c+l;return Object(r.a)({timelineId:d,getEndpoint:function(e){return e.URT.fetchExplore},getEndpointParams:function(e){return Object.assign({candidate_source:n,display_location:a,include_page_configuration:i,profile_user_id:s},e)},context:"FETCH_EXPLORE",perfKey:""+c+l,staleIntervalMs:9e5,terminateTimelineInstructionEnabled:!0})},l=s({includePageConfiguration:!0}),d=s({contentType:o.Trends}),m=s({displayLocation:i.WebSidebar}),u=function(){return function(e,t){return e(Object(a.n)(t()).filter((function(e){return 0===e.indexOf(c)})).map((function(e){return Object(a.d)(e)})))}}},XtkE:function(e,t,n){"use strict";var r=n("R972"),a=(n("PN9k"),n("yIC7"),n("6rlp")),o=n("ERkP"),i=n("vjRr"),c=n("VPAj"),s=n("0KEI"),l=n("NnR4"),d=n("caTy"),m=n("cFuS"),u=n("NeVM"),p=n("zh9S"),f=n("Rp9C"),h=n("X04g"),g=(n("rmZQ"),n("NlgC"),n("0rpg"),n("VbXa")),b=n.n(g),y=n("wrlS"),E=n("zOwA"),_="metadata",v="trend",w=n("3xO4"),T=n.n(w),S=n("hxu0"),C=n("htQn"),I=n("pjBI"),k=n("t62R"),x=n("e5HP"),M=n("rHpw"),O=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,P=function(e){function t(){return e.apply(this,arguments)||this}b()(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.attachment,n=e.description,r=e.domainContext,a=e.isInSidebar,i=e.link,c=e.name,s=e.onClick,l=e.rank,d=e.trendFeedbackMenu,m=c.replace("#","").charAt(0).match(O)?"rtl":"ltr",u=i&&("string"==typeof i?{pathname:i}:i);return o.createElement(o.Fragment,null,o.createElement(C.a,{link:u?Object.assign({},u,{anchorless:!0}):void 0,onPress:s,style:j.rootLink,testID:v,withDarkerInteractiveBackground:a},o.createElement(T.a,{style:j.content},o.createElement(I.a,null,l?o.createElement(k.b,{color:"deepGray",importantForAccessibility:"no-hide-descendants",size:"small"},l):null,o.createElement(k.b,{color:"deepGray",size:"small"},r||null)),o.createElement(k.b,{dir:m,style:j.name,weight:"bold",withHashflags:!0},c),o.createElement(k.b,{color:"deepGray",style:j.description},n),t?o.createElement(T.a,{style:j.attachment},t):null,this._renderMetadata(),o.createElement(T.a,{style:j.trendFeedbackMenuContainer},d))))},n._renderMetadata=function(){var e,t=this.props,n=t.isInSidebar,r=t.metaDescription,a=t.promotedContent,i=t.socialProofUser,c=n&&y.a.isTrue("responsive_web_trends_modification_hide_social_proof");return a?e=o.createElement(x.a,{label:r,promotedContent:a}):c?e=null:i&&r?e=o.createElement(E.a,{image:i.profile_image_url_https,key:i.id_str,label:r,textSize:"small"}):r&&(e=r),e?o.createElement(k.b,{color:"deepGray",size:"small",style:j.withMarginTop,testID:_},e):null},t}(o.Component),D=Object(S.a)(P),j=M.a.create((function(e){return{rootLink:{display:"flex",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},trendFeedbackMenuContainer:{position:"absolute",top:1,right:0},attachment:{alignSelf:"stretch",paddingBottom:e.spaces.xxSmall,paddingTop:e.spaces.xSmall},description:{paddingTop:e.spaces.micro},content:{flexGrow:1,position:"relative"},name:{paddingTop:e.spaces.micro},withMarginTop:{marginTop:e.spaces.xxSmall}}})),R=n("G6rE"),A=n("SMZj"),z=function(e){var t=e.content,n=t.name,r=t.promotedMetadata,a=Object.assign({item_type:h.a.ItemType.TREND,item_query:n,name:n},f.a.getGuideDetails(e.itemMetadata.clientEventInfo));return r&&(a.disclosure_type=r.disclosureType),a},F=function(e){return e&&e.promotedTrendId?{disclosure_type:e.disclosureType,impression_id:e.promotedTrendId}:void 0},L=function(e,t){if(e&&e.length>0){var n=e[0];if(!t&&Object(A.h)(n.name)!==A.d.EVENT)return;var r="summary_large_image"===n.name?"summary":n.name;return n.trends_horizon_web_card_binding_values?o.createElement(l.a,{card:{url:n.url,name:r,binding_values:n.trends_horizon_web_card_binding_values,users:n.users},cardContext:{locationKey:"trend",tweetUserId:"TREND_CARD_NO_TWEET_USER_ID"},cardState:"secondary"}):void 0}},N=function(e){var t=e.entry;return{cards:i.a.createManyHydratedSelector(t.content.associatedCardUrls||[]),socialProofUsers:function(e){return R.e.selectMany(e,t.content.associatedUserIds||[])}}},G=function(e,t){return r.f({isFocusable:Object(c.a)(!0),component:D,bindActions:function(e){e.module;return{logTrend:a.c,scribe:p.c,createLocalApiErrorHandler:Object(s.b)(t)}},selectData:N,createProps:function(t){var n=t.actions,r=n.logTrend,a=n.scribe,o=n.createLocalApiErrorHandler,i=t.data,c=i.cards,s=i.socialProofUsers,l=t.entry,p=t.feedbackItems,f=(t.module.selectFeedbackActions,t.scribeNamespace),h=l.content,g=h.promotedMetadata;return{attachment:L(c,e),description:h.description,domainContext:h.trendMetadata.domainContext,link:Object(d.b)(h.url),metaDescription:h.trendMetadata&&h.trendMetadata.metaDescription,name:h.name,onClick:function(){a(Object.assign({},f,{action:"search"}),{items:[z(l)]}),g&&g.promotedTrendId&&r({promoted_trend_id:g.promotedTrendId,event:m.d.CLICK}).catch(o())},promotedContent:F(g),rank:h.rank,trendFeedbackMenu:Object(u.a)({feedbackItems:p,scribe:a,scribeNamespace:f}),socialProofUser:s&&s[0]}},onImpression:function(e){var t=e.entry,n=e.actions,r=n.logTrend,a=n.createLocalApiErrorHandler,o=t.content.promotedMetadata;o&&o.promotedTrendId&&r({promoted_trend_id:o.promotedTrendId,event:m.d.IMPRESSION}).catch(a())}})};t.a=function(e){var t=e.withThirdPartyCards,n=void 0!==t&&t,a=e.errorContext;return r.d(G(n,a))}}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/loader.ExploreSidebar.39e84784.js.map